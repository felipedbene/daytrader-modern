<!--
 * (C) Copyright IBM Corporation 2015.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml"
       xmlns:h="http://xmlns.jcp.org/jsf/html"
       xmlns:f="http://xmlns.jcp.org/jsf/core"
       xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
       xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions">
<h:head>
	<title>DayTrader Order</title>
	<link rel="stylesheet" href="style.css" type="text/css" />
	<link rel="shortcut icon" href="./favicon.ico" />
</h:head>
<h:body>

	<h:form id="order">
		<nav class="dt-nav">
			<a href="tradehome.faces" class="dt-brand">
				<span class="dt-brand-icon">DT</span>
				DayTrader
			</a>
			<ul class="dt-nav-links">
				<li><h:outputLink value="tradehome.faces">Home</h:outputLink></li>
				<li><h:outputLink value="account.faces">Account</h:outputLink></li>
				<li><h:outputLink value="marketSummary.faces">Market</h:outputLink></li>
				<li><h:outputLink value="portfolio.faces">Portfolio</h:outputLink></li>
				<li><h:outputLink value="quote.faces">Quotes/Trade</h:outputLink></li>
				<li><h:commandLink action="#{tradeapp.logout}" id="logoff">Logout</h:commandLink></li>
			</ul>
		</nav>

		<main class="dt-main">
			<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem;">
				<h:outputText value="#{accountdata.currentTime}" styleClass="text-muted" style="font-size:0.8125rem" />
			</div>

			<h:panelGroup rendered="#{fn:length(accountdata.closedOrders) > 0}">
				<div class="dt-alert dt-alert-warning">
					<strong>Alert:</strong> The following order(s) have completed.
					<h:dataTable id="orders" value="#{accountdata.closedOrders}" var="item" styleClass="table" headerClass="tableHeader"
						rowClasses="tableOddRow,tableEvenRow"
						columnClasses="tableColumn,tableColumn,tableColumn,tableColumn,tableColumn,tableColumn,tableColumn,tableColumn"
						style="margin-top:0.5rem;">

						<h:column>
							<f:facet name="header"><h:outputText value="Order ID" /></f:facet>
							<h:outputText value="#{item.orderID}" />
						</h:column>
						<h:column>
							<f:facet name="header"><h:outputText value="Status" /></f:facet>
							<h:outputText value="#{item.orderStatus}" />
						</h:column>
						<h:column>
							<f:facet name="header"><h:outputText value="Opened" /></f:facet>
							<h:outputText value="#{item.openDate}" />
						</h:column>
						<h:column>
							<f:facet name="header"><h:outputText value="Completed" /></f:facet>
							<h:outputText value="#{item.completionDate}" />
						</h:column>
						<h:column>
							<f:facet name="header"><h:outputText value="Fee" /></f:facet>
							<h:outputText value="#{item.orderFee}" />
						</h:column>
						<h:column>
							<f:facet name="header"><h:outputText value="Type" /></f:facet>
							<h:outputText value="#{item.orderType}" />
						</h:column>
						<h:column>
							<f:facet name="header"><h:outputText value="Symbol" /></f:facet>
							<h:outputText value="#{item.symbol}" />
						</h:column>
						<h:column>
							<f:facet name="header"><h:outputText value="Quantity" /></f:facet>
							<h:outputText value="#{item.quantity}" />
						</h:column>
					</h:dataTable>
				</div>
			</h:panelGroup>

			<div class="dt-alert dt-alert-info">
				<strong>Order&#160;<h:outputText value="#{orderdata.orderData.orderID}" /></strong>
				&#160;to&#160;
				<strong><h:outputText value="#{orderdata.orderData.orderType}" />&#160;<h:outputText value="#{orderdata.orderData.quantity}" /></strong>
				&#160;shares of&#160;
				<strong><h:outputText value="#{orderdata.orderData.symbol}" /></strong>
				&#160;has been submitted for processing.
			</div>

			<div class="dt-card">
				<div class="dt-card-header">
					<h3>Order <h:outputText value="#{orderdata.orderData.orderID}" /> Details</h3>
				</div>
				<div style="overflow-x:auto;">
					<table class="table">
						<thead>
							<tr>
								<th class="tableHeader"><a href="docs/glossary.html">Order ID</a></th>
								<th class="tableHeader"><a href="docs/glossary.html">Status</a></th>
								<th class="tableHeader"><a href="docs/glossary.html">Opened</a></th>
								<th class="tableHeader"><a href="docs/glossary.html">Completed</a></th>
								<th class="tableHeader"><a href="docs/glossary.html">Fee</a></th>
								<th class="tableHeader"><a href="docs/glossary.html">Type</a></th>
								<th class="tableHeader"><a href="docs/glossary.html">Symbol</a></th>
								<th class="tableHeader"><a href="docs/glossary.html">Quantity</a></th>
							</tr>
						</thead>
						<tbody>
							<tr class="tableOddRow">
								<td class="tableColumn"><h:outputText value="#{orderdata.orderData.orderID}" /></td>
								<td class="tableColumn"><h:outputText value="#{orderdata.orderData.orderStatus}" /></td>
								<td class="tableColumn"><h:outputText value="#{orderdata.orderData.openDate}" /></td>
								<td class="tableColumn"><h:outputText value="#{orderdata.orderData.completionDate}" /></td>
								<td class="tableColumn"><h:outputText value="#{orderdata.orderData.orderFee}" /></td>
								<td class="tableColumn"><h:outputText value="#{orderdata.orderData.orderType}" /></td>
								<td class="tableColumn"><h:outputText value="#{orderdata.orderData.symbol}" /></td>
								<td class="tableColumn"><h:outputText value="#{orderdata.orderData.quantity}" /></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<div class="dt-card">
				<div style="display:flex;justify-content:space-between;align-items:center;">
					<span class="text-muted">Click any <a href="docs/glossary.html">symbol</a> for a quote or to trade.</span>
					<div style="display:flex;gap:0.5rem;align-items:center;">
						<h:inputText id="symbols" value="#{quotedata.symbols}" required="true">
							<f:validateLength minimum="1" maximum="40" />
						</h:inputText>
						<h:commandButton class="dt-btn dt-btn-sm" id="submit2" type="submit" value="quotes" action="#{quotedata.getQuotesBySymbols}" />
					</div>
				</div>
			</div>
		</main>

		<footer class="dt-footer">
			Apache DayTrader Performance Benchmark Sample
		</footer>
	</h:form>

</h:body>
</html>
